Se está corriendo un trabajo [[Tareas Cron|cron]] en el servidor. Nos dicen que podemos revisar el directorio `/etc/cron.d.` para encontrar el archivo de configuración para la tarea.

El archivo que nos interesa es `/etc/crond.d/cronjob_bandit23`. Esta es la tarea programada del nivel.

Contiene:

```plaintext
@reboot bandit23 /usr/bin/cronjob_bandit23.sh  &> /dev/null
* * * * * bandit23 /usr/bin/cronjob_bandit23.sh  &> /dev/null
```

Reviso el contenido del script:

```bash
cat /usr/bin/cronjob_bandit23.sh
```

```bash
#!/bin/bash                  

myname=$(whoami)
mytarget=$(echo I am user $myname | md5sum | cut -d ' ' -f 1)

echo "Copying passwordfile /etc/bandit_pass/$myname to /tmp/$mytarget"
cat /etc/bandit_pass/$myname > /tmp/$mytarget 
```

Este script lo que hace es asignarle a la variable *myname* el nombre de usuario que ejecuta el comando. (Por el archivo de configuración de la tarea cron, sabemos que es *bandit23*), a la variable *mytarget* le asigna como valor el resultado del comando:

```bash
echo I am user $myname | md5sum | cut -d ' ' -f 1
```

Este comando toma la cadena **"I am user bandit23"** y calcula su valor hash con el algoritmo *MD5* usando el comando *md5sum*. La salida de esto es:

```plaintext
8ca319486bfbbc3663ea0fbe81326349  - 
```

El último comando `cut -d ' ' -f 1` corta esa cadena para solo dejar lo que hay antes del espacio. (el valor hash)

Posteriormente el script envía la contraseña de *bandit23* al fichero cuyo nombre es el valor de la variable *target* y se encuentra en el directorio `/tmp`. Es decir, `/tmp/8ca319486bfbbc3663ea0fbe81326349`.

Leemos su contenido:

```bash
cat /tmp/8ca319486bfbbc3663ea0fbe81326349
```

**Password for bandit23;**
0Zf11ioIjMVN551jX3CmStKLYqjk54Ga 